<!DOCTYPE html>
<html class="h-full">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mastermind Game</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        animation: {
          'pulse-border': 'pulse-border 2s ease-in-out infinite',
          'highlight-holes': 'highlight-holes 3s ease-in-out infinite',
        },
        keyframes: {
          'pulse-border': {
            '0%, 100%': { 
              borderColor: 'rgb(59 130 246)',
              boxShadow: '0 0 0 2px rgba(59, 130, 246, 0.3)'
            },
            '50%': { 
              borderColor: 'rgb(147 51 234)',
              boxShadow: '0 0 0 4px rgba(147, 51, 234, 0.3)'
            },
          },
          'highlight-holes': {
            '0%, 100%': { 
              borderColor: 'rgb(75 85 99)',
              transform: 'scale(1)'
            },
            '25%': { 
              borderColor: 'rgb(239 68 68)',
              transform: 'scale(1.1)'
            },
            '50%': { 
              borderColor: 'rgb(34 197 94)',
              transform: 'scale(1.05)'
            },
            '75%': { 
              borderColor: 'rgb(249 115 22)',
              transform: 'scale(1.1)'
            },
          }
        }
      }
    }
  }

  // Dark mode toggle functionality
  function toggleDarkMode() {
    document.documentElement.classList.toggle('dark');
    localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
  }

  // Initialize dark mode from localStorage
  if (localStorage.getItem('darkMode') === 'true' || 
      (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark');
  }
</script>
<style>
  .hole {
    transition: all 0.2s ease-in-out;
  }
  
  /* Responsive touch targets - smaller on mobile, larger on larger screens */
  @media (max-width: 640px) {
    .hole {
      min-height: 24px; /* Matches w-6 h-6 */
      min-width: 24px;
    }
  }
  
  @media (min-width: 641px) {
    .hole {
      min-height: 32px; /* Matches w-8 h-8 */
      min-width: 32px;
    }
  }
  
  .hole:hover {
    transform: scale(1.2);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  @media (max-width: 640px) {
    .hole:hover {
      transform: scale(1.1); /* Smaller scale on mobile */
    }
  }
  
  .tooltip {
    position: relative;
  }
  
  .tooltip:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 120%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 1000;
  }
  
  .tooltip:hover::before {
    content: '';
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: rgba(0, 0, 0, 0.8);
    z-index: 1000;
  }

  /* Hide tooltips on mobile to prevent interference */
  @media (max-width: 640px) {
    .tooltip:hover::after,
    .tooltip:hover::before {
      display: none;
    }
  }

  /* Custom scrollbar for better aesthetics */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-400 dark:bg-gray-600 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500 dark:bg-gray-500;
  }

  /* Prevent zoom on input focus on mobile Safari */
  @media screen and (max-width: 768px) {
    input, select, textarea, button {
      font-size: 16px !important;
    }
  }

</style>
</head>
<body class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300">
  <!-- Dark mode toggle button -->
  <button 
    onclick="toggleDarkMode()" 
    class="fixed top-2 right-2 sm:top-4 sm:right-4 z-50 p-2 sm:p-3 rounded-full bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-200 border border-gray-200 dark:border-gray-700"
    aria-label="Toggle dark mode"
  >
    <svg class="w-5 h-5 text-gray-800 dark:text-yellow-400 dark:hidden" fill="currentColor" viewBox="0 0 20 20">
      <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
    </svg>
    <svg class="w-5 h-5 text-gray-400 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
      <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
    </svg>
  </button>

  <div class="min-h-screen flex items-center justify-center p-2 sm:p-4">
    <div id="game-container" class="w-full max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl">
      <!-- Game content will be inserted here by ScalaJS -->
    </div>
  </div>

  <script type="text/javascript" src="../target/scala-2.13/mastermind-fastopt/main.js"></script>
</body>
</html>
